
--boundary_.oOo._4HTaQplGk1Cu8D/d6zBAK/TScDUPaqqZ
Content-Length: 0
Content-Type: application/octet-stream
X-File-MD5: d41d8cd98f00b204e9800998ecf8427e
X-File-Mtime: 1691012381
X-File-Path: /project-polref/Encyclopedia/website_polar/node_modules/resolve/test/resolver/mug.js


--boundary_.oOo._4HTaQplGk1Cu8D/d6zBAK/TScDUPaqqZ
Content-Length: 21
Content-Type: application/octet-stream
X-File-MD5: d00072229e607e3109a7c7b617d829f8
X-File-Mtime: 1691012380
X-File-Path: /project-polref/Encyclopedia/website_polar/node_modules/resolve/test/resolver/same_names/foo.js

module.exports = 42;

--boundary_.oOo._4HTaQplGk1Cu8D/d6zBAK/TScDUPaqqZ
Content-Length: 24
Content-Type: application/octet-stream
X-File-MD5: 4e957bc0e855379d8c9d7dc61d94dd5b
X-File-Mtime: 1691012380
X-File-Path: /project-polref/Encyclopedia/website_polar/node_modules/resolve/test/resolver/symlinked/package/bar.js

module.exports = 'bar';

--boundary_.oOo._4HTaQplGk1Cu8D/d6zBAK/TScDUPaqqZ
Content-Length: 0
Content-Type: application/octet-stream
X-File-MD5: d41d8cd98f00b204e9800998ecf8427e
X-File-Mtime: 1691012380
X-File-Path: /project-polref/Encyclopedia/website_polar/node_modules/resolve/test/shadowed_core/node_modules/util/index.js


--boundary_.oOo._4HTaQplGk1Cu8D/d6zBAK/TScDUPaqqZ
Content-Length: 24
Content-Type: application/octet-stream
X-File-MD5: 0c5b2b6430634798519321e18ed3954d
X-File-Mtime: 1691012381
X-File-Path: /project-polref/Encyclopedia/website_polar/node_modules/resolve/test/resolver/symlinked/package/package.json

{
    "main": "bar.js"
}
--boundary_.oOo._4HTaQplGk1Cu8D/d6zBAK/TScDUPaqqZ
Content-Length: 20
Content-Type: application/octet-stream
X-File-MD5: 0c1d9e1731bb3d71b0b7a15695bfab14
X-File-Mtime: 1691012380
X-File-Path: /project-polref/Encyclopedia/website_polar/node_modules/resolve/test/resolver/same_names/foo/index.js

module.exports = 1;

--boundary_.oOo._4HTaQplGk1Cu8D/d6zBAK/TScDUPaqqZ
Content-Length: 20
Content-Type: application/octet-stream
X-File-MD5: 0c1d9e1731bb3d71b0b7a15695bfab14
X-File-Mtime: 1691012380
X-File-Path: /project-polref/Encyclopedia/website_polar/node_modules/resolve/test/resolver/foo.js

module.exports = 1;

--boundary_.oOo._4HTaQplGk1Cu8D/d6zBAK/TScDUPaqqZ
Content-Length: 1
Content-Type: application/octet-stream
X-File-MD5: 68b329da9893e34099c7d8ad5cb9c940
X-File-Mtime: 1691012380
X-File-Path: /project-polref/Encyclopedia/website_polar/node_modules/resolve/test/resolver/cup.coffee



--boundary_.oOo._4HTaQplGk1Cu8D/d6zBAK/TScDUPaqqZ
Content-Length: 3058
Content-Type: application/octet-stream
X-File-MD5: 1b98e334b28d23f9130a63201398a5da
X-File-Mtime: 1691012380
X-File-Path: /project-polref/Encyclopedia/website_polar/node_modules/resolve/test/core.js

var test = require('tape');
var keys = require('object-keys');
var semver = require('semver');

var resolve = require('../');

var brokenNode = semver.satisfies(process.version, '11.11 - 11.13');

test('core modules', function (t) {
    t.test('isCore()', function (st) {
        st.ok(resolve.isCore('fs'));
        st.ok(resolve.isCore('net'));
        st.ok(resolve.isCore('http'));

        st.ok(!resolve.isCore('seq'));
        st.ok(!resolve.isCore('../'));

        st.ok(!resolve.isCore('toString'));

        st.end();
    });

    t.test('core list', function (st) {
        var cores = keys(resolve.core);
        st.plan(cores.length);

        for (var i = 0; i < cores.length; ++i) {
            var mod = cores[i];
            // note: this must be require, not require.resolve, due to https://github.com/nodejs/node/issues/43274
            var requireFunc = function () { require(mod); }; // eslint-disable-line no-loop-func
            t.comment(mod + ': ' + resolve.core[mod]);
            if (resolve.core[mod]) {
                st.doesNotThrow(requireFunc, mod + ' supported; requiring does not throw');
            } else if (brokenNode) {
                st.ok(true, 'this version of node is broken: attempting to require things that fail to resolve breaks "home_paths" tests');
            } else {
                st.throws(requireFunc, mod + ' not supported; requiring throws');
            }
        }

        st.end();
    });

    t.test('core via repl module', { skip: !resolve.core.repl }, function (st) {
        var libs = require('repl')._builtinLibs; // eslint-disable-line no-underscore-dangle
        if (!libs) {
            st.skip('module.builtinModules does not exist');
            return st.end();
        }
        for (var i = 0; i < libs.length; ++i) {
            var mod = libs[i];
            st.ok(resolve.core[mod], mod + ' is a core module');
            st.doesNotThrow(
                function () { require(mod); }, // eslint-disable-line no-loop-func
                'requiring ' + mod + ' does not throw'
            );
        }
        st.end();
    });

    t.test('core via builtinModules list', { skip: !resolve.core.module }, function (st) {
        var libs = require('module').builtinModules;
        if (!libs) {
            st.skip('module.builtinModules does not exist');
            return st.end();
        }
        var blacklist = [
            '_debug_agent',
            'v8/tools/tickprocessor-driver',
            'v8/tools/SourceMap',
            'v8/tools/tickprocessor',
            'v8/tools/profile'
        ];
        for (var i = 0; i < libs.length; ++i) {
            var mod = libs[i];
            if (blacklist.indexOf(mod) === -1) {
                st.ok(resolve.core[mod], mod + ' is a core module');
                st.doesNotThrow(
                    function () { require(mod); }, // eslint-disable-line no-loop-func
                    'requiring ' + mod + ' does not throw'
                );
            }
        }
        st.end();
    });

    t.end();
});

--boundary_.oOo._4HTaQplGk1Cu8D/d6zBAK/TScDUPaqqZ
Content-Length: 799
Content-Type: application/octet-stream
X-File-MD5: eb25b51a3ccfacd7b4fbbb94a342edf8
X-File-Mtime: 1691012380
X-File-Path: /project-polref/Encyclopedia/website_polar/node_modules/resolve/test/dotdot.js

var path = require('path');
var test = require('tape');
var resolve = require('../');

test('dotdot', function (t) {
    t.plan(4);
    var dir = path.join(__dirname, '/dotdot/abc');

    resolve('..', { basedir: dir }, function (err, res, pkg) {
        t.ifError(err);
        t.equal(res, path.join(__dirname, 'dotdot/index.js'));
    });

    resolve('.', { basedir: dir }, function (err, res, pkg) {
        t.ifError(err);
        t.equal(res, path.join(dir, 'index.js'));
    });
});

test('dotdot sync', function (t) {
    t.plan(2);
    var dir = path.join(__dirname, '/dotdot/abc');

    var a = resolve.sync('..', { basedir: dir });
    t.equal(a, path.join(__dirname, 'dotdot/index.js'));

    var b = resolve.sync('.', { basedir: dir });
    t.equal(b, path.join(dir, 'index.js'));
});

--boundary_.oOo._4HTaQplGk1Cu8D/d6zBAK/TScDUPaqqZ
Content-Length: 111
Content-Type: application/octet-stream
X-File-MD5: a273979c29547819f4ce096e8454eba6
X-File-Mtime: 1691012380
X-File-Path: /project-polref/Encyclopedia/website_polar/node_modules/resolve/test/resolver/without_basedir/main.js

var resolve = require('../../../');

module.exports = function (t, cb) {
    resolve('mymodule', null, cb);
};

--boundary_.oOo._4HTaQplGk1Cu8D/d6zBAK/TScDUPaqqZ
Content-Length: 807
Content-Type: application/octet-stream
X-File-MD5: dba3e4709b1aae6d85bfa7a7210bc13c
X-File-Mtime: 1691012380
X-File-Path: /project-polref/Encyclopedia/website_polar/node_modules/resolve/test/faulty_basedir.js

var test = require('tape');
var path = require('path');
var resolve = require('../');

test('faulty basedir must produce error in windows', { skip: process.platform !== 'win32' }, function (t) {
    t.plan(1);

    var resolverDir = 'C:\\a\\b\\c\\d';

    resolve('tape/lib/test.js', { basedir: resolverDir }, function (err, res, pkg) {
        t.equal(!!err, true);
    });
});

test('non-existent basedir should not throw when preserveSymlinks is false', function (t) {
    t.plan(2);

    var opts = {
        basedir: path.join(path.sep, 'unreal', 'path', 'that', 'does', 